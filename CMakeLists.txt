PROJECT (gdsto3d)
SET (VERSION "20070601")

ADD_DEFINITIONS (-DVERSION=${VERSION} -DHAVE_CONFIG_H)
INCLUDE_DIRECTORIES (${gdsto3d_BINARY_DIR})

#INCLUDE (${CMAKE_ROOT}/Modules/CheckIncludeFile.cmake)
#INCLUDE (${CMAKE_ROOT}/Modules/FindOpenGL.cmake)

INCLUDE (CheckIncludeFile)
INCLUDE (FindOpenGL)

FIND_LIBRARY (WINSOCK2_LIBRARY "ws2_32")
CHECK_INCLUDE_FILE ("stdint.h" HAVE_STDINT_H)
CHECK_INCLUDE_FILE ("winsock2.h" HAVE_WINSOCK2_H)
CHECK_INCLUDE_FILE ("windows.h" HAVE_WINDOWS_H)
CHECK_INCLUDE_FILE ("GL/gl.h" HAVE_GL_GL_H)
CHECK_INCLUDE_FILE ("GL/glu.h" HAVE_GL_GLU_H)
CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DIR}/config.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/config.h)

IF (WIN32)
	SET (BINDEST .)
	SET (LIBDEST .)
ELSE (WIN32)
	SET (BINDEST bin)
	SET (LIBDEST lib)
ENDIF (WIN32)

ADD_SUBDIRECTORY (libgdsto3d)
ADD_SUBDIRECTORY (gds2pov)
ADD_SUBDIRECTORY (gds2info)
#ADD_SUBDIRECTORY (gds23ds)
ADD_SUBDIRECTORY (gds2svg)


IF (OPENGL_FOUND)
#	ADD_SUBDIRECTORY (gds2ogl)
	ADD_SUBDIRECTORY (gdsoglviewer)
ENDIF (OPENGL_FOUND)
